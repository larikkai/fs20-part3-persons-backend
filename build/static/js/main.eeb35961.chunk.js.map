{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilter","value","onChange","Persons","persons","deletePerson","filter","person","name","toLowerCase","includes","Button","id","onClick","confirm","window","alert","map","key","number","PersonForm","addPerson","newName","newNumber","handlePersonChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","style","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","setStyle","useEffect","personService","initialPersons","updateNumber","find","changedPerson","catch","error","handleErrorMessage","setTimeout","event","target","preventDefault","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eeb35961.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilter }) => {\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                filter shown with\r\n                <input\r\n                value={newFilter}\r\n                onChange={handleFilter}\r\n                />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({ persons, newFilter, deletePerson}) => {\r\n\r\n    const filter = persons.filter(person => person.name.toLowerCase().includes(newFilter))\r\n\r\n    const personsToShow = () => filter.map(person =>\r\n      <div key={person.id}>\r\n        {person.name} {person.number} \r\n        <Button name={person.name} id={person.id} deletePerson={deletePerson} />\r\n      </div>)\r\n\r\n    const Button = ({ name, id, deletePerson }) => {\r\n      return(\r\n        <button onClick={() => confirm({name,id,deletePerson})}>delete</button>\r\n      )}\r\n\r\n    const confirm = ({ name, id, deletePerson }) => {\r\n      if(window.confirm(`Delete ${name} ?`)){\r\n        deletePerson(id)\r\n      }else {\r\n        window.alert(`Nothing removed`)\r\n      }\r\n    }\r\n\r\n    return(\r\n        personsToShow()\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, newNumber, handlePersonChange, handleNumberChange}) => {\r\n    \r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>name:\r\n          <input \r\n            value={newName}\r\n            onChange={handlePersonChange}\r\n          />\r\n        </div>\r\n        <div>number:\r\n          <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    return (\r\n      <div className={style}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ errorMessage, setErrorMessage] = useState(null)\r\n  const [ style, setStyle] = useState('neutral')\r\n\r\n  useEffect(() => {\r\n      personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const validation = persons.map(person => person.name)\r\n\r\n    if(!validation.includes(newName)){\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setErrorMessage(`Added ${newName}`)\r\n        handleErrorMessage()\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(`${error.response.data.error}`)\r\n        handleErrorMessage()\r\n      })\r\n    } else {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const person = persons.find(person => person.name === newName)\r\n        const id = person.id\r\n        updateNumber(id, newNumber)\r\n      }\r\n    }\r\n  }\r\n\r\n  const updateNumber = (id, newNumber) => {\r\n    const person = persons.find(person => person.id === id)\r\n    const changedPerson = { ...person, number: newNumber }\r\n  \r\n    personService\r\n      .update(id, changedPerson)\r\n      .then(changedPerson => {\r\n        setPersons(persons.map(person => person.id !== id ? person : changedPerson))\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(`Information of ${newName} has been already removed from server`)\r\n        setStyle('error')\r\n        handleErrorMessage()\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n\r\n  const deletePerson = ( id ) => {\r\n    const person = persons.find(person => person.id === id)\r\n    personService\r\n    .remove(id)\r\n    setPersons(persons.filter(person => person.id !== id))\r\n    setErrorMessage(`${person.name} deleted`)\r\n    handleErrorMessage()\r\n  }\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n      setNewFilter(event.target.value.toLowerCase())\r\n  }\r\n\r\n  const handleErrorMessage = () =>{\r\n    setTimeout(() => {\r\n        setErrorMessage(null)\r\n        setStyle('neutral')\r\n    }, 4000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={errorMessage} style={style} />\r\n\r\n      <Filter newFilter={newFilter} handleFilter={handleFilter} />\r\n\r\n      <h2>add a new</h2>\r\n\r\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} \r\n      handlePersonChange={handlePersonChange} handleNumberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons persons={persons} newFilter={newFilter} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}